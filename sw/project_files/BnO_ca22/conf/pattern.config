/**
*  @file      pattern.config
*  @brief     Config data for LED patterns, modified according to UI
*  @author    Wesley Lee
*  @date      15-Jul-2014
*  @copyright Tymphany Ltd.
*/

#include "LedDrv.h"
/***************************************************************************
 * led Pattern Config Data,

 * @param  periodTime       the repeated period time in ms
 * @para   onTime           the time of turning on LED (duty cycle),
 *                          it's only valid in Blink style
 *                          when onTime     == periodTime    , it will light up solid
 * @para   duration         the duration of the pattern,
 *                          set to ALWAYS_REPEAT if it's always repeated
 * @para   color            the color of LED
 * para    nextPattern      It's used to combine patterns. When one pattern is shown once,
 *                          led_srv will jump to show the next pattern which is defined
 *                          in this parameter. Set it to PAT_MAX_NUMBER to only show one pattern
 *                          check below "SYS_ON_CRITICAL_BAT_PAT" for example
 * @para   style            the style we need, defined in ePatStyle
 ***************************************************************************/


/* Fading pattern setting
 */
#define MAX_BRIGHTNESS   (255)
#define FADING_DATA_SIZE (256)

extern const uint8 LED_FADING_ON_TO_OFF_DATA[FADING_DATA_SIZE];
extern const uint8 LED_FADING_ON_TO_DIM_DATA[FADING_DATA_SIZE];
extern const uint8 LED_FADING_DIM_TO_OFF_DATA[FADING_DATA_SIZE];

/* Other Setting
 */
#define ALWAYS_REPEAT (~0)
#define LED_OFF_LEVEL   0

tPatternData patternConfig[PAT_MAX_NUMBER] =
{
/* OFF_PATT */
   {
    .periodTime     = 0,
    .onTime         = 0,
    .duration       = ALWAYS_REPEAT,
    .color          = BLACK,
    .nextPattern    = PAT_MAX_NUMBER,
    .style          = SOLID_STYLE,
    .fading_data    = NULL,
    },

/* SOLID_PAT_WHITE */
     {
      .periodTime     = 0,
      .onTime         = 0,
      .duration       = ALWAYS_REPEAT,
      .color          = WHITE,
      .nextPattern    = PAT_MAX_NUMBER,
      .style          = SOLID_STYLE,
      .fading_data    = NULL,
     },

/* SOLID_PAT_RED */
     {
      .periodTime     = 0,
      .onTime         = 0,
      .duration       = ALWAYS_REPEAT,
      .color          = RED,
      .nextPattern    = PAT_MAX_NUMBER,
      .style          = SOLID_STYLE,
      .fading_data    = NULL,
     },

/* SOLID_PAT_GREEN */
     {
      .periodTime     = 0,
      .onTime         = 0,
      .duration       = ALWAYS_REPEAT,
      .color          = GREEN,
      .nextPattern    = PAT_MAX_NUMBER,
      .style          = SOLID_STYLE,
      .fading_data    = NULL,
     },

/* SOLID_PAT_BLUE */
     {
      .periodTime     = 0,
      .onTime         = 0,
      .duration       = ALWAYS_REPEAT,
      .color          = BLUE,
      .nextPattern    = PAT_MAX_NUMBER,
      .style          = SOLID_STYLE,
      .fading_data    = NULL,
     },

/* SOLID_PAT_AMBER */
     {
      .periodTime     = 0,
      .onTime         = 0,
      .duration       = ALWAYS_REPEAT,
      .color          = AMBER,
      .nextPattern    = PAT_MAX_NUMBER,
      .style          = SOLID_STYLE,
      .fading_data    = NULL,
     },

/* SOLID_PAT_YELLOW */
     {
      .periodTime     = 0,
      .onTime         = 0,
      .duration       = ALWAYS_REPEAT,
      .color          = YELLOW,
      .nextPattern    = PAT_MAX_NUMBER,
      .style          = SOLID_STYLE,
      .fading_data    = NULL,
     },

/* DIM_PATT_WHITE */
   {
    .periodTime     = 0,
    .onTime         = 0,
    .duration       = ALWAYS_REPEAT,
    .color          = DIM_WHITE,
    .nextPattern    = PAT_MAX_NUMBER,
    .style          = SOLID_STYLE,
    .fading_data    = NULL,
    },

/* DIM_PATT_AMBER, */
   {
    .periodTime     = 0,
    .onTime         = 0,
    .duration       = ALWAYS_REPEAT,
    .color          = DIM_AMBER,
    .nextPattern    = PAT_MAX_NUMBER,
    .style          = SOLID_STYLE,
    .fading_data    = NULL,
    },

/* DIM_PATT_RED */
   {
    .periodTime     = 0,
    .onTime         = 0,
    .duration       = ALWAYS_REPEAT,
    .color          = DIM_RED,
    .nextPattern    = PAT_MAX_NUMBER,
    .style          = SOLID_STYLE,
    .fading_data    = NULL,
    },

/* DIM_PATT_BLUE */
   {
    .periodTime     = 0,
    .onTime         = 0,
    .duration       = ALWAYS_REPEAT,
    .color          = DIM_BLUE,
    .nextPattern    = PAT_MAX_NUMBER,
    .style          = SOLID_STYLE,
    .fading_data    = NULL,
    },


/* FLASH_PAT_AMBER */
    {
     .periodTime     = 1000,
     .onTime         = 500,
     .duration       = ALWAYS_REPEAT,
     .color          = AMBER,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },

/* FLASH_PAT_BLUE */
    {
     .periodTime     = 1000,
     .onTime         = 500,
     .duration       = ALWAYS_REPEAT,
     .color          = BLUE,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },

/* QUICK_FLASH_PAT_RED */
    {
     .periodTime     = 200,
     .onTime         = 100,
     .duration       = ALWAYS_REPEAT,
     .color          = RED,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },

/* QUICK_FLASH_PAT_WHITE */
    {
     .periodTime     = 200,
     .onTime         = 100,
     .duration       = ALWAYS_REPEAT,
     .color          = WHITE,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },

/* QUICK_FLASH_PAT_ORANGE */
    {
     .periodTime     = 200,
     .onTime         = 100,
     .duration       = ALWAYS_REPEAT,
     .color          = ORANGE,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },

/* QUICK_FLASH_PAT_YOLLOW */
    {
     .periodTime     = 200,
     .onTime         = 100,
     .duration       = ALWAYS_REPEAT,
     .color          = YELLOW,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },

/* Note: The duration of quick flash is 200ms in UI spec, but we adjust the duration to 160ms for better UX.
* Refer to : https://pm.tymphany.com/SpiraTeam/243/Incident/11596.aspx .
*/
/* QUICK_FLASH_ONCE_PAT_WHITE */
    {
     .periodTime     = 160,
     .onTime         = 80,
     .duration       = 160,
     .color          = WHITE,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },

/* PULSE_PAT_WHITE */
    {
     .periodTime     = 4000,
     .onTime         = 4000,
     .duration       = ALWAYS_REPEAT,
     .color          = WHITE,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = FADE_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },

/* PULSE_PAT_BLUE */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = ALWAYS_REPEAT,
     .color          = BLUE,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = FADE_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },

/* PULSE_PAT_RED */
    {
     .periodTime     = 4000,
     .onTime         = 4000,
     .duration       = ALWAYS_REPEAT,
     .color          = RED,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = FADE_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },

/* PULSE_PAT_AMBER */
    {
     .periodTime     = 4000,
     .onTime         = 4000,
     .duration       = ALWAYS_REPEAT,
     .color          = AMBER,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = FADE_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },

/* TRANS_PAT_RED_1 */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = RED,
     .nextPattern    = TRANS_PAT_RED_2,
     .style          = FADE_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },
/* TRANS_PAT_RED_2 */
    {
     .periodTime     = 1000,
     .onTime         = 1000,
     .duration       = 1000,
     .color          = RED,
     .nextPattern    = TRANS_PAT_RED_3,
     .style          = SOLID_STYLE,
     .fading_data    = NULL,
    },
/* TRANS_PAT_RED_3 */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = RED,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = FADE_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },

/* TRANS_PAT_BLUE_1 */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = BLUE,
     .nextPattern    = TRANS_PAT_BLUE_2,
     .style          = FADE_IN_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },
/* TRANS_PAT_BLUE_2 */
    {
     .periodTime     = 1000,
     .onTime         = 1000,
     .duration       = 1000,
     .color          = BLUE,
     .nextPattern    = TRANS_PAT_BLUE_3,
     .style          = SOLID_STYLE,
     .fading_data    = NULL,
    },
/* TRANS_PAT_BLUE_3 */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = BLUE,
     .nextPattern    = PAT_MAX_NUMBER,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },
/* QUICK_FLASH_2S_PAT_WHITE_THEN_PULSE_WHITE */
    {
     .periodTime     = 200,
     .onTime         = 100,
     .duration       = 3000,
     .color          = WHITE,
     .nextPattern    = PULSE_PAT_WHITE,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },
/* QUICK_FLASH_2S_PAT_GREEN_THEN_PULSE_WHITE */
    {
     .periodTime     = 200,
     .onTime         = 100,
     .duration       = 3000,
     .color          = GREEN,
     .nextPattern    = PULSE_PAT_WHITE,
     .style          = BLINK_STYLE,
     .fading_data    = NULL,
    },
/* TRANS_ON_2_OFF_PAT_WHITE */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = WHITE,
     .nextPattern    = OFF_PATT,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },
/* TRANS_ON_2_OFF_PAT_AMBER */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = AMBER,
     .nextPattern    = OFF_PATT,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },
/* TRANS_ON_2_OFF_PAT_RED */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = RED,
     .nextPattern    = OFF_PATT,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },
/* TRANS_ON_2_OFF_PAT_BLUE */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = BLUE,
     .nextPattern    = OFF_PATT,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_OFF_DATA,
    },
/* TRANS_DIM_WHITE_PAT */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = WHITE,
     .nextPattern    = DIM_PATT_WHITE,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_DIM_DATA,
    },
/* TRANS_DIM_AMBER_PAT */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = AMBER,
     .nextPattern    = DIM_PATT_AMBER,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_DIM_DATA,
    },
/* TRANS_DIM_RED_PAT */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = RED,
     .nextPattern    = DIM_PATT_RED,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_DIM_DATA,
    },
/* TRANS_DIM_BLUE_PAT */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = BLUE,
     .nextPattern    = DIM_PATT_BLUE,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_ON_TO_DIM_DATA,
    },
/* TRANS_DIM_2_OFF_PAT_WHITE */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = WHITE,
     .nextPattern    = OFF_PATT,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_DIM_TO_OFF_DATA,
    },
/* TRANS_DIM_2_OFF_PAT_AMBER */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = AMBER,
     .nextPattern    = OFF_PATT,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_DIM_TO_OFF_DATA,
    },
/* TRANS_DIM_2_OFF_PAT_RED */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = RED,
     .nextPattern    = OFF_PATT,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_DIM_TO_OFF_DATA,
    },
/* TRANS_DIM_2_OFF_PAT_BLUE */
    {
     .periodTime     = 2000,
     .onTime         = 2000,
     .duration       = 2000,
     .color          = BLUE,
     .nextPattern    = OFF_PATT,
     .style          = FADE_OUT_STYLE,
     .fading_data    = LED_FADING_DIM_TO_OFF_DATA,
    },
};

/**********************************************************/

const uint8 LED_FADING_ON_TO_OFF_DATA[]=
{
    0,0,0,0,0,0,1,1,1,1,2,2,2,3,3,4,4,4,5,5,6,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,19,19,20,21,22,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,75,76,77,78,79,80,81,82,83,85,86,87,88,89,90,91,93,94,95,96,97,98,100,101,102,103,104,106,107,108,109,111,112,113,114,116,117,118,119,121,122,123,124,126,127,128,130,131,132,133,135,136,137,139,140,141,143,144,145,147,148,150,151,152,154,155,156,158,159,161,162,163,165,166,168,169,170,172,173,175,176,178,179,181,182,183,185,186,188,189,191,192,194,195,197,198,200,201,203,204,206,207,209,210,212,213,215,216,218,220,221,223,224,226,227,229,230,232,234,235,237,238,240,242,243,245,246,248,250,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255
};

const uint8 LED_FADING_ON_TO_DIM_DATA[]=
{
    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,18,19,19,20,21,22,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,75,76,77,78,79,80,81,82,83,85,86,87,88,89,90,91,93,94,95,96,97,98,100,101,102,103,104,106,107,108,109,111,112,113,114,116,117,118,119,121,122,123,124,126,127,128,130,131,132,133,135,136,137,139,140,141,143,144,145,147,148,150,151,152,154,155,156,158,159,161,162,163,165,166,168,169,170,172,173,175,176,178,179,181,182,183,185,186,188,189,191,192,194,195,197,198,200,201,203,204,206,207,209,210,212,213,215,216,218,220,221,223,224,226,227,229,230,232,234,235,237,238,240,242,243,245,246,248,250,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255
};

const uint8 LED_FADING_DIM_TO_OFF_DATA[]=
{
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16
};


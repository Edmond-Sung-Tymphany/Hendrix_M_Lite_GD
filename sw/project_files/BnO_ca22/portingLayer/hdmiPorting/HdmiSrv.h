/*****************************************************************************
* Model: tym_platform.qm
*
* This code has been generated by QM tool (see state-machine.com/qm).
* DO NOT EDIT THIS FILE MANUALLY. All your changes will be lost.
*
* This program is open source software: you can redistribute it and/or
* modify it under the terms of the GNU General Public License as published
* by the Free Software Foundation.
*
* This program is distributed in the hope that it will be useful, but
* WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
* or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
* for more details.
*****************************************************************************/
/**
 *  @file      HdmiSrv.h
 *  @brief     This file contains the  HDMI driver implementation.
 *  @author    Neo
 *  @date      24-Aug-2017
 */
#ifndef HDMISRV_H
#define HDMISRV_H

#ifdef __cplusplus
extern "C" {
#endif

#include "server.h"
#include "deviceTypes.h"

IND_EVT(HdmiGetCmd)
    eHdmiSettId hdmiSettId;
    bool enable;
    uint8_t param;
    uint8_t param2;
END_IND_EVT(HdmiGetCmd)

REQ_EVT(HdmiReqEvt)
    eHdmiSettId hdmiSettId;
    uint8_t param;
END_REQ_EVT(HdmiReqEvt)


SUBCLASS(cHdmiSrv, cServer)
    /* private data */
    bool unuse;
METHODS
    /* public functions */

void HdmiSrv_StartUp(cPersistantObj *me);
void HdmiSrv_ShutDown(cPersistantObj *me);

/*
* Request Command from Server
*/
void HdmiSrv_EnterISP(void);

/*
*	Get request from Server
*/
void HdmiSrv_EnterISP(void);
void HdmiSrv_SendPowerOnOff(bool on);
void HdmiSrv_SendVolume(uint8_t volume);
void HdmiSrv_SendMute(bool mute);
void HdmiSrv_SendTest(uint8_t param);

/*
*   Get command from HDMI chip, send them to Server
*/
void HdmiSrv_UpdatedPowerOnOff(bool on);
void HdmiSrv_UpdatedVolume(uint8_t soundBar_vol, uint8_t cec_volume);
void HdmiSrv_UpdatedMuteStatus(bool mute);
void HdmiSrv_UpdatedSource(uint8_t source);
void HdmiSrv_UpdatedTxPluginStatus(bool plugin);
void HdmiSrv_UpdatedRxPluginStatus(bool plugin);

END_CLASS

#ifdef __cplusplus
}
#endif

#endif /* HDMISRV_H */


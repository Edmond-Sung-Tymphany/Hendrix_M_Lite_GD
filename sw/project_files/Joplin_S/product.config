#ifndef PRODUCT_CONFIG
#define PRODUCT_CONFIG

/**************************************************/
/************ Firmware Version Control  *****************/
/**************************************************/
/**
* @name Firmware Version Control
* Firmware Version Info
*/
///@{

/// Product Info
#define TP_PRODUCT  "Joplin_S"
#define TP_MCU_FAMILY "stm32"
#define TP_MCU "STM32F030CC"

#define STRINGIFY2(x) #x
#define STRINGIFY(x) STRINGIFY2(x)
#define PASTE(a, b) a##.b

/// PIU version, i.e. swv5.05
#define PIU_MAJOR_VERSION   SW_MAJOR_VERSION
#define PIU_MINOR_VERSION1  SW_MINOR_VERSION1
#define PIU_MINOR_VERSION2  SW_MINOR_VERSION2
#define PIU_MINOR_VERSION3  SW_MINOR_VERSION3
#define PIU_VERSION         STRINGIFY(PIU_MAJOR_VERSION.PIU_MINOR_VERSION1.PIU_MINOR_VERSION2.PIU_MINOR_VERSION3)

/// UBL Bootloader version, i.e. swv5.05
#define BL_MAJOR_VERSION   SW_MAJOR_VERSION
#define BL_MINOR_VERSION1  SW_MINOR_VERSION1
#define BL_MINOR_VERSION2  SW_MINOR_VERSION2
#define BL_MINOR_VERSION3  SW_MINOR_VERSION3
#define BOOTLOADER_VERSION STRINGIFY(BL_MAJOR_VERSION.BL_MINOR_VERSION1.BL_MINOR_VERSION2.BL_MINOR_VERSION3)

/// SW version, i.e. swv5.0.5
#define SW_MAJOR_VERSION   1
#define SW_MINOR_VERSION1  0
#define SW_MINOR_VERSION2  1
#define SW_MINOR_VERSION3  0
#define PRODUCT_VERSION_MCU STRINGIFY(SW_MAJOR_VERSION.SW_MINOR_VERSION1.SW_MINOR_VERSION2.SW_MINOR_VERSION3)

#define PRODUCT_VERSION_DSP     "0.0.1"

#define SOFTWARE_VERSION_STRING TP_PRODUCT PRODUCT_VERSION_MCU
//#define HARDWARE_VERSION_STRING "EVT1"  // should be one of string from hwVersionArray[] in powerdrv_light.c

/******************************** version message **************************/

//#define RELEASE_VERSION
#ifdef RELEASE_VERSION
#define NDEBUG
#endif

#ifndef NDEBUG
#define MAINAPP_DEBUG
#endif

#define HW_VERSION_LENGTH    (16)

//#define MCU_FW_SELF_CHECKING
#define SHORT_PRESS_PAIRING

//#define UNIT_TEST_ENABLE

/******************************** volume **************************/
/* volume, treble, bass setting */
#define MAX_VOLUME_STEPS	33
#define DEFAULT_VOLUME  	20
#define DEFAULT_AUDIO_CUE_VOLUME        (20)

#define MAX_BASS_STEPS		11
#define DEFAULT_BASS  	    5

#define MAX_TREBLE_STEPS	11
#define DEFAULT_TREBLE  	5

/******************************** volume **************************/

/******************************** Bluetooth **************************/
#define BLUETOOTH_V3
#define HAS_BLUETOOTH
#define HAS_BT_RESET_PIN
#define HAS_BT_AUDIO_CUE
#define HAS_FIX_VOL_AUDIO_CUE
#define HAS_SKIP_CMD
#define BT_ON_OFF_USE_PIO_CMD
#define HAS_BT_SEQ_CONTROL
#define WAIT_BT_MODULE_BOOT_UP
/******************************** Bluetooth **************************/

/******************************** audio **************************/
//#define HAS_MCO          // already compile sucess, Open this difine when the new board ready
#define HAS_AUXIN
#define HAS_AUTO_STANDBY
#define AUTO_STANDBY_TIMEOUT_CNT    (20*60*100)  // 20minute * 60second / 0.01 second(100ms)
#define HAS_AUDIO_CONTROL
#define HAS_ADAU1761_DSP
#define TP_AUDIO_V2
#define DSP_TUNING_ON_THE_FLY
#define DSP_TREBLE_BASS_TUNINGx

#define HAS_TAS5760_AMP
#define HAS_TPA3116_AMP

/******************************** audio **************************/

/******************************** key **************************/
#define HAS_KEYS
#define HAS_GPIO_KEY
#define HAS_ROTATER_KEY
#define KEY_SRV_HAS_DEBUG
#define HAS_COMB_KEY
#define HAS_POWER_SWITCH_KEY
#define POWER_OFF_TO_ON_DEBOUNCE
#define HAS_COMPLEX_PRESS_KEY
/******************************** key **************************/

/******************************** system control **************************/
#define HAS_POWER_CONTROL
#define HAS_HW_VERSION_TAG
#define SYSTEM_RESTART_AFTER_FACTORY_RESET
#define PERIODIC_SRV_HAS_DEACTIVE // added by colin for test
/******************************** system control **************************/

/******************************** IO Expander **************************/
#define IOEXPANDERDRV_RST_CONTROL
#define IOEXPANDERDRV_ONE_RST_FOR_MULTI_IOE
/******************************** IO Expander **************************/

/******************************** power **************************/
#define TP_POWER_V2
#define HAS_MCU_SLEEP
/******************************** power **************************/

/******************************** Safety **************************/
//#define HAS_IWDG
#define IWDG_FEED_PERIOD_SEC (20)

/******************************** Safety **************************/

/******************************** debug & rom **************************/
#define HAS_DEBUG
#define HAS_SETTING
#define SETTING_HAS_ROM_DATA
#define HAS_NVM
//#define TP_MONITOR_ON_OFF_CONTROL
#define TP_MONITOR_HAS_PRIVATE_SIGNAL
#define HAS_IGNORE_UART_OVER_RUN_ERROR
#define HAS_IGNORE_UART_FRAMING_ERROR
/******************************** debug & rom **************************/

/******************************** led **************************/
#define HAS_LEDS
//#define LED_HAS_RGB
#define LED_SRV_SUPPORT_64_LEDS
#define LED_SRV_HAS_SLEEP
#define LED_HAS_IOEXPANDER
#define LED_SRV_EVENT_Q_SIZE        10
/******************************** led **************************/

/******************************** MCU & peripheral **************************/
///define the number of UART system is using
#define NUM_OF_UART     4
#define UART_NON_DIRECT_MAP
#define CUSTOM_UART3_8_IRQHANDLER

//#define HAS_INDEPENDED_WATCHDOG
#define HAS_I2C2
/******************************** MCU peripheral **************************/

/******************************** OSC **************************/
#define EXTERNAL_HIGH_SPEED_OSC_FREQ        (12288000)
//#define EXTERNAL_AND_INTERNAL_HIGH_SPEED_CLOCK
#define INTERNAL_HIGH_SPEED_CLOCK
/******************************** OSC **************************/

/******************************** QP setting **************************/
#define NUM_OF_SMALL_EVENTS         15
#define SIZE_OF_SMALL_EVENTS        8

#define NUM_OF_MEDIUM_EVENTS        15
#define SIZE_OF_MEDIUM_EVENTS       16

#define NUM_OF_LARGE_EVENTS         16
#define SIZE_OF_LARGE_EVENTS        32

#define AUDIO_SRV_EVENT_Q_SIZE      10
#define SETT_SRV_EVENT_Q_SIZE       6
#define DBG_SRV_EVENT_Q_SIZE        6
#define DBG_SRV_TX_BUF_Q_SIZE      5
#define KEY_SRV_EVENT_Q_SIZE        10
#define BT_SRV_EVENT_Q_SIZE	        5
#define POWER_SRV_EVENT_Q_SIZE		5
#define ASETK_SRV_EVENT_Q_SIZE	   10
#define MAINAPP_EVENT_Q_SIZE       10
/******************************** QP setting **************************/


/**********************/
/* DELEGATE */
/**********************/
/// Enable DELEGATE
#define HAS_DELEGATES
//#define HAS_BT_DELEGATE
//#define HAS_POWER_DELEGATE
#ifdef HAS_DELEGATES
  //#define HAS_IDLE_DELEGATE
  #ifdef HAS_IDLE_DELEGATE
    #define IDLE_TIMEOUT_IN_MS	(20*60*1000) /*idle debouncing: 20 min */
  #endif /* HAS_IDLE_DELEGATE */
#endif /* HAS_DELEGATES */


/******************************** stack **************************/
#define HAS_STACK_OVERFLOW_LOW_LEVEL_CHECK
/******************************** stack **************************/

#define BRINGUP_printf		printf
#define ALWAYS_printf		printf

#define SYS_TICKS_PER_SEC       1000U
#define GET_TICKS_IN_MS(x)      (x * SYS_TICKS_PER_SEC / 1000)



#endif  // PRODUCT_CONFIG


#define SETTING_RESEND_LIMIT    3
#define PAGE_SIZE               1024        // # of 32-bit Instructions per Page
#define SETTING_SAVE_MS         5000
#define IDLE_TIMEOUT_MS         3000
#define TIMER_PERIOD_MS         1000

//the array should be in size of multiple of 4
typedef int16 arrMenuData[NUM_OF_MENU_SETT_ITEMS];

typedef int16 arrPreset1[NUM_OF_PRESET_ITEMS];   

typedef int16 arrPreset2[NUM_OF_PRESET_ITEMS];

typedef int16 arrPreset3[NUM_OF_PRESET_ITEMS];

typedef uint8 preset1Name[NUM_OF_SCREEN_DIGIT + 4];
typedef uint8 preset2Name[NUM_OF_SCREEN_DIGIT + 4];
typedef uint8 preset3Name[NUM_OF_SCREEN_DIGIT + 4];

typedef struct tSettingEntry
{
    uint8   vol_level;
    arrMenuData menuData;
    arrPreset1 preset1;
    arrPreset2 preset2;
    arrPreset3 preset3;
    bool isMusicPlaying;
    preset1Name userPreset1Name;
    preset2Name userPreset2Name;
    preset3Name userPreset3Name;
}tSettingEntry;


static tSettingEntry setting;



static tSettingDatabase settingDB[SETID_MAX] =
{
    { NULL,                     15*PAGE_SIZE,                   SETTING_ATTR_VALID | SETTING_ATTR_NVM},
    { NULL,                     PAGE_SIZE,                      SETTING_ATTR_VALID | SETTING_ATTR_NVM},
    { &setting.vol_level,       sizeof(setting.vol_level),      SETTING_ATTR_VALID},
    { &setting.isMusicPlaying,  sizeof(setting.isMusicPlaying), SETTING_ATTR_VALID},
    { &setting.menuData,        sizeof(setting.menuData),       SETTING_ATTR_VALID | SETTING_ATTR_NVM},
    { &setting.preset1,         sizeof(setting.preset1),        SETTING_ATTR_VALID | SETTING_ATTR_NVM},
    { &setting.preset2,         sizeof(setting.preset2),        SETTING_ATTR_VALID | SETTING_ATTR_NVM},
    { &setting.preset3,         sizeof(setting.preset3),        SETTING_ATTR_VALID | SETTING_ATTR_NVM},
    { &setting.userPreset1Name, sizeof(setting.userPreset1Name),SETTING_ATTR_VALID | SETTING_ATTR_NVM},
    { &setting.userPreset2Name, sizeof(setting.userPreset2Name),SETTING_ATTR_VALID | SETTING_ATTR_NVM},
    { &setting.userPreset3Name, sizeof(setting.userPreset3Name),SETTING_ATTR_VALID | SETTING_ATTR_NVM},

};

#define SETT_PAGE_ROM_ADDR      0x0801BC00
#define SETT_ELEMENT_MAX_SIZE   0x0080

static const tSettingRomMap settingRomMap[] =
{
    { SETID_DSP_INIT_DATA,      0x0801C000  },
    { SETID_DSP_TUNABLE_PART,   0x0801FC00  },
    { SETID_MENU_DATA,          SETT_PAGE_ROM_ADDR                              },
    { SETID_PRESET_1,           SETT_PAGE_ROM_ADDR + SETT_ELEMENT_MAX_SIZE      },
    { SETID_PRESET_2,           SETT_PAGE_ROM_ADDR + SETT_ELEMENT_MAX_SIZE*2    },
    { SETID_PRESET_3,           SETT_PAGE_ROM_ADDR + SETT_ELEMENT_MAX_SIZE*3    },
    { SETID_PRESET_1_NAME,      SETT_PAGE_ROM_ADDR + SETT_ELEMENT_MAX_SIZE*4    },
    { SETID_PRESET_2_NAME,      SETT_PAGE_ROM_ADDR + SETT_ELEMENT_MAX_SIZE*4+16 },
    { SETID_PRESET_3_NAME,      SETT_PAGE_ROM_ADDR + SETT_ELEMENT_MAX_SIZE*4+32 }
};

